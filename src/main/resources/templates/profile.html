<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open Notepad - Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/css/navbar.css" />
</head>
<body>
    <!-- navbar -->
    <header id="navbar">
        <div class="left">
        <img src="/img/logo.png" alt="Logo">
        </div>
        <div class="right">
            <div class="search">
                <img src="/img/search.png" alt="Search Icon">
                <input type="text" placeholder="Search notes">
            </div>

            <select class="major-filter">
                <option value="">All Majors</option>
                <option value="informatics">Informatics</option>
                <option value="electrical">Electrical Engineering</option>
                <option value="mechanical">Mechanical Engineering</option>
                <option value="civil">Civil Engineering</option>
            </select>
        <a href="/user/notes"><img src="/img/myNote.png" alt="myNote Icon"></a>
        <a href="/user/notes/upload"><img src="/img/upload.png" alt="Upload Icon"></a>
        <a href="/user/profile"><img src="/img/profile.png" alt="Profile Icon">  </a>
        </div>
    </header>

    <!-- navbar end -->

    <!-- Main Content -->
    <main class="mx-auto max-w-6xl p-8 bg-white mt-4 rounded-lg">
        <h1 class="mb-8 text-4xl font-bold">Profile</h1>

        <div class="grid grid-cols-1 gap-8 md:grid-cols-2">
            <!-- Left Column -->
            <div class="space-y-6">
                <div>
                    <h2 class="mb-4 text-xl font-bold">Avatar Profile</h2>
                    <div class="flex flex-col items-start">
                        <div id="profileImageContainer" class="mb-4 h-32 w-32 overflow-hidden rounded-full border-2 flex items-center justify-center bg-white">
                            <img id="profileImageDisplay" class="h-full w-full object-cover hidden" alt="Profile Picture">
                            <svg id="profileIconDisplay" xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                        </div>
                        <a href="/user/profile/edit" class="text-black underline">Upload Picture</a>
                    </div>
                </div>

                <div class="space-y-4">
                    <div class="flex items-center gap-2">
                        <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/mdi_linkedin-1kMkmeryjsjlD3Rnvvex4zuc38enni.png" alt="LinkedIn" class="w-6 h-6">
                        <span id="linkedinStatus">Add LinkedIn</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/iconsax-instagram-lr8l3JZrI0k0CSIaJSohbMZCCUNBqZ.png" alt="Instagram" class="w-6 h-6">
                        <span id="instagramStatus">Add Instagram</span>
                    </div>
                </div>

                <div>
                    <h2 class="mb-2 text-xl font-bold">About Me</h2>
                    <p id="aboutMeDisplay" class="text-gray-700">
                        Lorem ipsum dolor sit amet consectetur adipiscing elit. Consectetur adipiscing elit quisque faucibus ex sapien vitae. Ex sapien vitae pellentesque sem placerat in id. Placerat in id cursus mi pretium tellus duis. Pretium tellus duis convallis tempus leo eu aenean Lorem ipsum dolor sit amet consectetur adipiscing elit. Consectetur adipiscing elit quisque faucibus ex sapien vitae. Ex sapien vitae pellentesque sem placerat in id. Placerat in id cursus mi pretium tellus duis. Pretium tellus duis convallis tempus.
                    </p>
                </div>
            </div>

            <!-- Right Column -->
            <div class="space-y-6">
                <div>
                    <h2 class="mb-2 text-xl font-bold">Full name</h2>
                    <p id="fullNameDisplay" class="text-gray-700">Lorem ipsum dolor sit amet</p>
                </div>

                <div>
                    <h2 class="mb-2 text-xl font-bold">E-mail</h2>
                    <p id="emailDisplay" class="text-gray-700">Loremipsum@gmail.com</p>
                </div>

                <div class="flex justify-end pt-4 mt-8">
                    <a href="/user/profile/edit" class="bg-emerald-400 px-6 py-2 text-black hover:bg-emerald-500 rounded-md">
                        Edit Profile
                    </a>
                </div>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Load user data from localStorage
            const userData = JSON.parse(localStorage.getItem('userData') || '{}');
            
            // Update profile display with saved data
            // Handle both new format (firstName, lastName) and old format (fullName)
            if (userData.firstName || userData.lastName) {
                // Combine firstName and lastName for display
                const firstName = userData.firstName || '';
                const lastName = userData.lastName || '';
                const fullName = (firstName + ' ' + lastName).trim();
                
                document.getElementById('fullNameDisplay').textContent = fullName;
            } else if (userData.fullName) {
                // Use existing fullName if available (backward compatibility)
                document.getElementById('fullNameDisplay').textContent = userData.fullName;
            }
            
            if (userData.email) {
                document.getElementById('emailDisplay').textContent = userData.email;
            }
            
            if (userData.aboutMe) {
                document.getElementById('aboutMeDisplay').textContent = userData.aboutMe;
            }
    
            
            // Update LinkedIn status
            if (userData.linkedinConnected) {
                document.getElementById('linkedinStatus').textContent = 'LinkedIn Connected';
            }
            
            // Update Instagram status
            if (userData.instagramConnected) {
                document.getElementById('instagramStatus').textContent = 'Instagram Connected';
            }
            
            // Display profile image if available
            if (userData.profileImage) {
                const profileImage = document.getElementById('profileImageDisplay');
                profileImage.src = userData.profileImage;
                profileImage.classList.remove('hidden');
                document.getElementById('profileIconDisplay').classList.add('hidden');
            }
            
        });
    </script>
</body>
</html>